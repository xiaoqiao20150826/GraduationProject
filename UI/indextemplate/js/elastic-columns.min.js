/* Elastic Columns 0.1.1 - https://github.com/johansatge/elastic-columns */
!function(a){a.elasticColumns=function(b,c){this.defaults={columns:3,innerMargin:10,outerMargin:10},this.settings={},this.$element=a(b),this.columns=[],this.init=function(){this.settings=a.extend({},this.defaults,c),this.buildLayout()},this.buildLayout=function(){for(var b=this.$element.children(":not(.elastic-columns-ignore)"),c=this.$element.width(),d=(c-this.settings.innerMargin*(this.settings.columns-1)-2*this.settings.outerMargin)/this.settings.columns,e=0;e<this.settings.columns;e+=1)this.columns[e]=this.settings.outerMargin;for(var f=0;f<b.length;f+=1){for(var g=a(b.get(f)),h=0,i=0;i<this.settings.columns;i+=1)this.columns[i]<this.columns[h]&&(h=i);var j=parseInt(g.css("padding-left"))+parseInt(g.css("padding-right")),k=parseInt(g.css("padding-top"))+parseInt(g.css("padding-bottom"));g.css("position","absolute"),g.css("width",d-j+"px"),g.css("left",this.settings.outerMargin+this.settings.innerMargin*h+h*d+"px"),g.css("top",this.columns[h]+"px"),this.columns[h]+=g.outerHeight()+this.settings.innerMargin+k}for(var l=0,i=0;i<this.settings.columns;i+=1)this.columns[i]>this.columns[l]&&(l=i);this.$element.outerHeight(this.columns[l]+"px")},this.destroyLayout=function(){for(var b=this.$element.children(":not(.elastic-columns-ignore)"),c=0;c<b.length;c+=1){var d=a(b.get(c));d.css({position:"",width:"",left:"",top:""})}this.$element.css({height:""})}},a.fn.elasticColumns=function(b,c,d){return this.each(function(){var e=a(this).data("elasticColumns");"undefined"==typeof e?(e=new a.elasticColumns(this,b),a(this).data("elasticColumns",e),e.init()):("refresh"==b&&e.buildLayout(),"set"==b&&(e.settings[c]=d),"destroy"==b&&e.destroyLayout())})}}(jQuery);